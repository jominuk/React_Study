# useEffect

- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ ë  ë•Œ ê·¸ ì•ˆì— ìˆëŠ” ê¸°ëŠ¥ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” React Hooksì¤‘ í•˜ë‚˜
- ì»´í¬ë„ŒíŠ¸ì˜ íŠ¹ì • ê°’ì´ ì—…ë°ì´íŠ¸ ë  ë–„ í•´ë‹¹ ê¸°ëŠ¥ìœ¼ë¡œ ì‘ë™ì‹œí‚¤ê³  ì‹¶ìœ¼ë©´ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì˜ ë°°ì—´ì— ê·¸ ê°’ì„ ë„£ì–´ì¤Œ

### 1. Mount(í™”ë©´ì— ì²« ë Œë”ë§)

### 2. Update(ë‹¤ì‹œ ë Œë”ë§)

### 3. Unmount(í™”ë©´ì—ì„œ ì‚¬ë¼ì§ˆ ë•Œ)

### 4. ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ì´í›„ì— ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì§€

### 5. í•¨ìˆ˜ ë²”ìœ„ ì•ˆì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— íŠ¹ë³„í•œ API ì—†ì´ë„ ê°’ì„ ì–»ì„ ìˆ˜ ìˆìŒ

- ì–´ë–¤ ìƒíƒœê°’ì´ ë°”ë€Œì—ˆì„ ë•Œ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±
- ê¸°ë³¸ì ìœ¼ë¡œ ì¸ìë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.

ğŸ” ê°’ì´ ì…ë ¥ë˜ë©´ stateê°€ ë³€ê²½ ë˜ë©´ì„œ ë¦¬ëœë”ë§ì´ ì´ë£¨ì–´ì§€ë©° useEffectê°€ ì‹¤í–‰ë˜ë©´ì„œ ì´ ê³¼ì •ì´ ë¬´í•œëŒ€ë¡œ ì´ë£¨ì–´ì§„ë‹¤ ğŸ”

```javascript
useEffect(() => {}, [ì˜ì¡´ì„± ë°°ì—´])
```

```javascript
1. useEffect (() => {
    //ì‘ì—…
  })
// ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰

2. useEffect (() => {
    //ì‘ì—…
  }, [value]) //ë°°ì—´ì„ ë°›ëŠ” í˜•íƒœ
// ë§¨ ì²˜ìŒ ë Œë”ë§ ë˜ê³  valueê°€ ë°”ë€” ë•Œ ë Œë”ë§
```

## ì˜ˆì œ

```javascript
const App() {
  const [count, setCount] = useState (1) //ì´ˆê¸°ê°’ 1ì„ ê°–ëŠ”ë‹¤.
  const [name, setName] = useState('')

  const handleCountUpdate = () => {
    setCount(count +1)
  }

  const handleInputChange = () => {
    setName(e.target.value)
  }

  // 1. ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ ì‹¤í–‰ë¨
  useEffect(() => {
    console.log("ë Œë”ë§")
  })

  // 2. countê°€ ì‹¤í–‰ ë  ë•Œë§Œ ë Œë”ë§ì´ ë˜ê²Œ
  useEffect(() => {
    console.log("count ë³€í™”")
  }, [count])

  // 3. ì²« ë Œë”ë§ ë  ë•Œë§Œ ì‹¤í–‰ëœë‹¤.
  useEffect(() => {
    console.log("count ë³€í™”")
  }, [ ])

  return(
    <div>
      <button onClick={handleCountUpdate}> Update </button>
      <span> count: {count}</span>
      <input type="text" value={name} onChange={handleInputChange}/>
      <span>name : {name}</span>
    </div>
  )
}
```

## ì˜ˆì œ 2

```javascript
import { useEffect } from "react";
//ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í›…
// ë Œë”ë§ì´ë‘ í™”ë©´ì´ ê·¸ë ¤ì§€ëŠ” ê²ƒ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë³´ì—¬ì¡Œì„ë•Œ
//ë¬´ì–¸ê°€ë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í• ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒ
//ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œ ì‹¤í–‰ì´ ëœë‹¤ê°€ í•µì‹¬ ê¸°ëŠ¥

const App = () => {
  useEffect(() => {
    //ì´ ë¶€ë¶„ì´ ì‹¤í–‰ëœë‹¤.
    console.log("hello useEffect");
  });
  return (
    <div>
      <div>Home</div>
    </div>
  );
};

export default App;

// ì°¨ì´ ë°œìƒì´í›„
// ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ì˜¨í´ë¦­ ì•ˆì—ìˆëŠ” ì…‹ë„˜ë²„ê°€ ë°°ì¹˜ë¡œ ì²˜ë¦¬ê°€ ëœë‹¤. batch
// ì˜¨í´ë¦­ì„ í–ˆì„ ë•Œ setë„˜ë²„ë¥¼ 3ì„ ë‚´ë ¸ì§€ë§Œ ë¦¬ì—íŠ¸ì—ì„œëŠ” í•˜ë‚˜ë¡œ ëª¨ì•„ì„œ
// ìµœì¢…ì ìœ¼ë¡œ í•œë²ˆë§Œ ì‹¤í–‰ì‹œí‚¨ë‹¤.

// í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
// ì„¸ë²ˆì˜ ëª…ë ¹ì´ ëª¨ì´ë©´
// ìˆœê°€ì²™ìœ¼ë¡œ ê°ê° í•œë²ˆì”© ì‹¤í–‰í•œë‹¤
// 0ì— 1ì„ ã…“ë”í•˜ê³  1ì— 1ì„ ë”í•˜ê³  2ì— 1ì„ ë”í•˜ê³ 
// í•˜ë©´ 3ì´ ë˜ê¸° ë–„ë¬¸ì— 3ì‹ ì¦ê°€í•˜ê²Œ ëœë‹¤

// ë¦¬ì—‘íŠ¸ëŠ” ì™œ ì´ë ‡ê²Œ ë™ì‘í• ê¹Œ?
// ë¼ëŠ” ì˜ë¯¸ë¥¼ ì•Œì•„ë³´ì
```

## useEffect ì‘ë™ì›ë¦¬

```javascript
import React, { useEffect, useState } from "react";

const App = () => {
  const [value, setValue] = useState("");

  useEffect(() => {
    console.log("hello useEffect");
  });

  return (
    <div>
      <input
        type="text"
        value={value}
        onChange={(event) => {
          setValue(event.target.value);
        }}
      />
    </div>
  );
};

export default App;
```

ì´ëŒ€ë¡œ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ê²½ìš° ì½˜ì†”ì°½ì—ëŠ” ë¬´í•œëŒ€ë¡œ effectê°€ ì‹¤í–‰ëœë‹¤ ê·¸ ì´ìœ ëŠ”

1. inputì— ê°’ì„ ì…ë ¥
2. value, ì¦‰ stateê°€ ë³€ê²½
3. stateê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì—, Appì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§
4. ë¦¬ë Œë”ë§ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— useEffectê°€ ë‹¤ì‹œ ì‹¤í–‰
5. 1ë²ˆê³¼ 4ë²ˆì˜ ë¬´ê³¼ì •ì´ ë¬´í•œëŒ€ë¡œ ìˆœí™˜

- ì˜ì¡´ì„± ë°°ì—´ë¡œ í•´ê²°ì´ ê°€ëŠ¥

```javascript
import React, { useEffect, useState } from "react";

const App = () => {
  const [value, setValue] = useState("");

  useEffect(() => {
    console.log("hello useEffect");
  }, []); // ì´ ë¶€ë¶„ì— ë¹ˆê°’ ë°°ì—´ì„ ë„£ì–´ë‘”ë‹¤.

  return (
    <div>
      <input
        type="text"
        value={value}
        onChange={(event) => {
          setValue(event.target.value);
        }}
      />
    </div>
  );
};

export default App;

// ì˜ì¡´ì„± ë°°ì—´
// ë°°ì—´ì•ˆì— ê°’ì„ ë„£ìœ¼ë©´ ë°”ë€” ë•Œì—ë§Œ ì‹¤í–‰í• ê²Œ
// ì•„ë¬´ê²ƒë„ ë„£ì§€ ì•Šì•˜ë‹¤ëŠ” ê±´ ì²˜ìŒì—ë§Œ ì‹¤í–‰ì´ ë˜ê³ 
// ê·¸ ì´í›„ì—ëŠ” ì–´ë–¤ì¼ë„ ì¼ì–´ë‚˜ì„œëŠ” ì•ˆëœë‹¤.
```
